<launch>
    <!-- Rosserial node for communicating with tivac node over usb serial-->
    <!-- <node name='serial_node' type='serial_node.py' pkg='rosserial_python'>
        <param name='port' value='/dev/ttyACM0'/>
        <param name='baud' value='115200'/>    
    </node> -->
    <!-- Hardware Interface -->
    <node name='hardware_interface' type='hw_interface_node2' pkg='rover_4_core'/>
    <!-- URDF -->
    <arg name="urdf_file" default="$(find xacro)/xacro --inorder '$(find rover_4_core)/description/urdf/rover.urdf'" />
    <param name="robot_description" command="$(arg urdf_file)" />
    <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" />
    <!-- Load controller config -->
    <rosparam command="load" 
              file="$(find rover_4_core)/hw_interface/config/common.yaml"/>
    <rosparam command="load" 
              file="$(find rover_4_core)/hw_interface/config/control.yaml"/>

    <node name="controller_spawner" 
          pkg="controller_manager" 
          type="spawner" 
          output="screen" 
          ns="/"
          args="mobile_base_controller joint_state_controller leftWheel_effort_controller rightWheel_effort_controller"/>

    
</launch>